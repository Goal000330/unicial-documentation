<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, shrink-to-fit=no" />
  <meta name="commit" content="0000000000000000000000000000000000000000" />
  <link rel="preconnect" href="https://fonts.googleapis.com"></link>
  <link rel="stylesheet" href="/css/screen.css?1646701888960269500" type="text/css" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" href="/images/favicon.png">

  

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Utils library | Your awesome title</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Utils library" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A handy library to simplify many common tasks with the SDK" />
<meta property="og:description" content="A handy library to simplify many common tasks with the SDK" />
<link rel="canonical" href="http://localhost:4000/development-guide/utils/" />
<meta property="og:url" content="http://localhost:4000/development-guide/utils/" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:image" content="http://localhost:4000/images/favicon.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-04T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/images/favicon.png" />
<meta property="twitter:title" content="Utils library" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-08-04T00:00:00+08:00","datePublished":"2020-08-04T00:00:00+08:00","description":"A handy library to simplify many common tasks with the SDK","headline":"Utils library","image":"http://localhost:4000/images/favicon.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/development-guide/utils/"},"url":"http://localhost:4000/development-guide/utils/"}</script>
<!-- End Jekyll SEO tag -->

  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/1.0.0/lunr.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
  <script src="/js/global.js?1646701888960269500"></script>
</head>

<body class="">
  <div data-ad-slot="DOCS_TOP_BANNER" data-ad-type="full"></div>
  
  <header>
  <div class="dropdown-overlay"></div>
  <div class="search-overlay mobile"></div>
  <div class="wrapper">
    <nav>
      <div class="topbar">
        <div class="logo">
          <a href="https://decentraland.org/"><img src="/images/logo.png" /></a>
        </div>
        <div class="dropdown-trigger">Docs</div>
      </div>
      <div class="dropdown-content">
        <ul class="menu">
          <li><a href="/" class="active">Documents</a></li>
          <li><a href="#">Marketplace</a></li>
          <li><a href="#">About Us</a></li>
        </ul>
      </div>
    </nav>
    <div class="header_search">
      <div class="search-overlay desktop"></div>
      <form action="/search/" method="get">
        <input type="text" name="q"  placeholder="Search" autofocus autocomplete="off">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" class="search-icon">
    <g fill="none" fill-rule="evenodd">
        <path d="M-5-5v24h24V-5z"/>
        <path fill="#5C5C6E" fill-rule="nonzero" d="M12.003 13.657L8.96 10.616c-.016-.016-.027-.035-.042-.052a5.756 5.756 0 1 1 1.645-1.645c.017.015.036.026.052.042l3.041 3.042a1.17 1.17 0 0 1-1.654 1.654zM9.516 5.756a3.76 3.76 0 1 0-7.52 0 3.76 3.76 0 0 0 7.52 0z"/>
    </g>
</svg>

        <div class="loader"></div>
        <div class="close">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="close-icon">
  <g fill="none" fill-rule="evenodd" transform="translate(-4 -4)">
    <rect width="24" height="24"/>
    <path fill="#5C5C6E" d="M4,12 C4,7.581722 7.581722,4 12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 C7.581722,20 4,16.418278 4,12 Z M15.79284,15.8319127 L15.8319127,15.79284 C16.0550694,15.5696832 16.0550694,15.2078747 15.8319127,14.9847179 L12.8471947,12 L15.8319127,9.01528207 C16.0550694,8.79212533 16.0550694,8.43031677 15.8319127,8.20716003 L15.79284,8.16808733 C15.5696832,7.94493059 15.2078747,7.94493059 14.9847179,8.16808733 L12,11.1528053 L9.0152821,8.16808733 C8.7921253,7.94493059 8.4303168,7.94493059 8.20716,8.16808733 L8.1680873,8.20716003 C7.9449306,8.43031677 7.9449306,8.79212533 8.1680873,9.01528207 L11.1528053,12 L8.1680873,14.9847179 C7.9449306,15.2078747 7.9449306,15.5696832 8.1680873,15.79284 L8.20716,15.8319127 C8.4303168,16.0550694 8.7921253,16.0550694 9.0152821,15.8319127 L12,12.8471947 L14.9847179,15.8319127 C15.2078747,16.0550694 15.5696832,16.0550694 15.79284,15.8319127 Z"/>
  </g>
</svg>

        </div>
        <input type="submit" value="Search" style="display: none;">
      </form>
      <ul class="search-results"></ul>
    </div>

</header>

  <main>
    <div class="tutorial  wrapper post-wrapper">
 
  <section class="main-container">
    <aside class="sidebar">
<ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/">
        <span>
        
          <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.0458 11.9167C11.0458 11.9258 11.0431 11.9347 11.038 11.9422C11.033 11.9497 11.0258 11.9556 11.0174 11.959C11.0091 11.9625 10.9999 11.9634 10.991 11.9616C10.9821 11.9599 10.9739 11.9555 10.9675 11.9491C10.9611 11.9427 10.9568 11.9345 10.955 11.9256C10.9532 11.9168 10.9541 11.9075 10.9576 11.8992C10.961 11.8908 10.9669 11.8836 10.9744 11.8786C10.982 11.8736 10.9908 11.8709 10.9999 11.8708C11.0059 11.8708 11.0119 11.872 11.0174 11.8743C11.023 11.8766 11.0281 11.88 11.0323 11.8843C11.0366 11.8885 11.04 11.8936 11.0423 11.8992C11.0446 11.9047 11.0458 11.9107 11.0458 11.9167" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14.6667 19.25H7.33333C6.11776 19.25 4.95197 18.7671 4.09243 17.9076C3.23289 17.048 2.75 15.8822 2.75 14.6667V10.2667C2.75001 9.57929 2.90461 8.90074 3.20237 8.28122C3.50013 7.6617 3.93342 7.11709 4.47015 6.6877L8.13682 3.75437C8.94951 3.10421 9.95927 2.75 11 2.75C12.0408 2.75 13.0505 3.10421 13.8632 3.75437L17.5299 6.6877C18.0666 7.1171 18.4999 7.66172 18.7977 8.28123C19.0954 8.90075 19.25 9.5793 19.25 10.2667V14.6667C19.25 15.8822 18.7671 17.048 17.9076 17.9076C17.048 18.7671 15.8822 19.25 14.6667 19.25Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14.2543 11.9167C14.2543 11.9258 14.2516 11.9347 14.2465 11.9422C14.2415 11.9497 14.2343 11.9556 14.2259 11.959C14.2176 11.9625 14.2084 11.9634 14.1995 11.9616C14.1906 11.9599 14.1824 11.9555 14.176 11.9491C14.1696 11.9427 14.1653 11.9345 14.1635 11.9256C14.1617 11.9168 14.1626 11.9075 14.1661 11.8992C14.1695 11.8908 14.1754 11.8836 14.1829 11.8786C14.1905 11.8736 14.1993 11.8709 14.2084 11.8708C14.2144 11.8708 14.2204 11.872 14.2259 11.8743C14.2315 11.8766 14.2366 11.88 14.2408 11.8843C14.2451 11.8885 14.2485 11.8936 14.2508 11.8992C14.2531 11.9047 14.2543 11.9107 14.2543 11.9167" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M7.83727 11.9167C7.83726 11.9258 7.83457 11.9347 7.82953 11.9422C7.82449 11.9497 7.81733 11.9556 7.80896 11.959C7.80058 11.9625 7.79137 11.9634 7.78249 11.9616C7.7736 11.9599 7.76544 11.9555 7.75903 11.9491C7.75263 11.9427 7.74826 11.9345 7.74649 11.9256C7.74472 11.9168 7.74562 11.9075 7.74908 11.8992C7.75254 11.8908 7.75841 11.8836 7.76593 11.8786C7.77346 11.8736 7.78232 11.8709 7.79138 11.8708C7.7974 11.8708 7.80337 11.872 7.80895 11.8743C7.81452 11.8766 7.81958 11.88 7.82384 11.8843C7.82811 11.8885 7.83149 11.8936 7.83379 11.8992C7.8361 11.9047 7.83728 11.9107 7.83727 11.9167" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

        

        Home
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        
          <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.3333 10.5417C18.3333 6.23792 14.8454 2.75 10.5417 2.75C6.23792 2.75 2.75 6.23792 2.75 10.5417C2.75 14.8454 6.23792 18.3333 10.5417 18.3333" stroke="url(#paint0_linear_459_571)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M17.6641 17.6642L19.2499 19.25" stroke="url(#paint1_linear_459_571)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M17.6621 14.4212C18.5571 15.3161 18.5571 16.7671 17.6621 17.6621C16.7672 18.557 15.3162 18.557 14.4212 17.6621C13.5263 16.7671 13.5263 15.3161 14.4212 14.4212C15.3162 13.5262 16.7672 13.5262 17.6621 14.4212Z" stroke="url(#paint2_linear_459_571)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.56299 14.0076H3.61615C6.21307 14.0076 7.94465 13.8591 7.94465 11.4106C7.94465 8.81372 10.5416 8.81372 10.5416 7.08214C10.5416 5.14614 7.0784 5.35056 7.0784 3.61897V3.55664" stroke="url(#paint3_linear_459_571)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M18.3335 10.5417H15.5212C13.5916 10.5417 12.5677 8.2619 13.8492 6.81907L15.7109 4.72357" stroke="url(#paint4_linear_459_571)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<defs>
<linearGradient id="paint0_linear_459_571" x1="3.28472" y1="11.165" x2="17.8754" y2="11.1837" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F64E2"/>
<stop offset="1" stop-color="#41A6EF"/>
</linearGradient>
<linearGradient id="paint1_linear_459_571" x1="17.7185" y1="18.5205" x2="19.2033" y2="18.5224" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F64E2"/>
<stop offset="1" stop-color="#41A6EF"/>
</linearGradient>
<linearGradient id="paint2_linear_459_571" x1="13.9073" y1="16.2249" x2="18.1986" y2="16.2304" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F64E2"/>
<stop offset="1" stop-color="#41A6EF"/>
</linearGradient>
<linearGradient id="paint3_linear_459_571" x1="3.80245" y1="9.20014" x2="10.3365" y2="9.20574" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F64E2"/>
<stop offset="1" stop-color="#41A6EF"/>
</linearGradient>
<linearGradient id="paint4_linear_459_571" x1="13.4537" y1="7.86534" x2="18.185" y2="7.87061" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F64E2"/>
<stop offset="1" stop-color="#41A6EF"/>
</linearGradient>
</defs>
</svg>

        

        Universe
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/introduction/">
        <span>
        

        Introduction
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/faq/">
        <span>
        

        FAQ
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        DAO
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Overview
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/what-is-the-dao/">
        <span>
        

        What is the DAO?
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/what-can-you-do-with-the-dao/">
        <span>
        

        DAO Uses
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/how-does-the-dao-work/">
        <span>
        

        How the DAO works
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/what-smart-contracts-does-the-dao-control/">
        <span>
        

        The DAO's Smart Contracts
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/the-dao-fund/">
        <span>
        

        The DAO Fund
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/the-daos-limitations/">
        <span>
        

        DAO Limitations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/what-do-you-need-to-participate/">
        <span>
        

        Participation Requirements
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Grants
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/community-grants/">
        <span>
        

        Community Grants
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/requesting-grants/">
        <span>
        

        Requesting Grants
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/receiving-grants/">
        <span>
        

        Receiving Grants
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/dao-userguide/">
        <span>
        

        DAO User Guide
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/whitepaper/">
        <span>
        

        Whitepaper
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/hardware-acceleration/">
        <span>
        

        Hardware acceleration
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        
          <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.6665 19.25H16.4998C16.7406 19.2501 16.979 19.2027 17.2015 19.1106C17.424 19.0185 17.6261 18.8835 17.7963 18.7132C17.9666 18.5429 18.1016 18.3408 18.1937 18.1184C18.2859 17.8959 18.3332 17.6575 18.3332 17.4167V7.79169C18.333 7.42706 18.1881 7.0774 17.9303 6.81956C17.6725 6.56173 17.3228 6.41682 16.9582 6.41669H5.0415C4.67687 6.41682 4.32721 6.56173 4.06938 6.81956C3.81155 7.0774 3.66664 7.42706 3.6665 7.79169V15.5834" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M7.7915 6.41669V5.50002C7.7915 4.64912 8.12952 3.83307 8.7312 3.23139C9.33288 2.62971 10.1489 2.29169 10.9998 2.29169V2.29169C11.8507 2.29169 12.6668 2.62971 13.2685 3.23139C13.8702 3.83307 14.2082 4.64912 14.2082 5.50002V5.50002V6.41669" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.08727 19.2501C5.08726 19.2591 5.08456 19.268 5.07952 19.2755C5.07448 19.283 5.06733 19.2889 5.05895 19.2924C5.05058 19.2958 5.04137 19.2967 5.03248 19.2949C5.0236 19.2932 5.01544 19.2888 5.00903 19.2824C5.00262 19.276 4.99826 19.2678 4.99649 19.259C4.99472 19.2501 4.99562 19.2409 4.99908 19.2325C5.00255 19.2241 5.00841 19.217 5.01594 19.2119C5.02347 19.2069 5.03232 19.2042 5.04138 19.2042C5.04741 19.2042 5.05338 19.2053 5.05895 19.2076C5.06452 19.2099 5.06959 19.2133 5.07385 19.2176C5.07811 19.2218 5.08149 19.2269 5.08379 19.2325C5.0861 19.2381 5.08728 19.244 5.08727 19.2501" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.33727 19.2501C2.33726 19.2591 2.33457 19.268 2.32952 19.2755C2.32448 19.283 2.31733 19.2889 2.30895 19.2924C2.30058 19.2958 2.29137 19.2967 2.28248 19.2949C2.2736 19.2932 2.26544 19.2888 2.25903 19.2824C2.25262 19.276 2.24826 19.2678 2.24649 19.259C2.24472 19.2501 2.24562 19.2409 2.24908 19.2325C2.25255 19.2241 2.25841 19.217 2.26594 19.2119C2.27347 19.2069 2.28232 19.2042 2.29138 19.2042C2.29741 19.2042 2.30338 19.2053 2.30895 19.2076C2.31452 19.2099 2.31959 19.2133 2.32385 19.2176C2.32811 19.2218 2.33149 19.2269 2.33379 19.2325C2.3361 19.2381 2.33728 19.244 2.33727 19.2501" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

        

        Market
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/marketplace/">
        <span>
        

        Marketplace
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/land-manager/">
        <span>
        

        LAND Manager
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/mortgages/">
        <span>
        

        LAND Mortgages (Deprecated)
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/info-from-land/">
        <span>
        

        Get parcel info
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/api/">
        <span>
        

        LAND API Reference
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/market/api-migration-guide/">
        <span>
        

        LAND API 2.0 Migration Guide
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        
          <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.74521 15.9839L17.5268 8.20235C17.8852 7.84393 18.4655 7.84393 18.823 8.20235L19.8111 9.19051C20.1695 9.54893 20.1695 10.1292 19.8111 10.4867L12.0277 18.2701C11.7866 18.5112 11.4832 18.6798 11.1523 18.7578L9.64162 19.1143C9.19796 19.2188 8.79921 18.821 8.90279 18.3764L9.25662 16.863C9.33454 16.5303 9.50412 16.2259 9.74521 15.9839V15.9839Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M16.0693 9.65253L18.361 11.9442" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6.41683 19.25H6.27841C3.82358 19.25 1.8335 17.2599 1.8335 14.8051C1.8335 13.0487 2.8675 11.4565 4.4735 10.7433L8.1035 9.13C9.308 8.59467 10.0835 7.40117 10.0835 6.08392C10.0835 4.24233 8.59116 2.75 6.74958 2.75H6.41683" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

        

        Create
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/content-intro/">
        <span>
        

        Creating content
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Design experiences
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/design-experience/mvp-guidelines/">
        <span>
        

        Scene MVP Guidelines
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/design-experience/ux-ui-guide/">
        <span>
        

        UX and UI Guide
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/design-experience/design-games/">
        <span>
        

        Design constraints
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Builder
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/builder-101/">
        <span>
        

        Builder 101
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/smart-items/">
        <span>
        

        Smart items
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/nfts/">
        <span>
        

        NFTs
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/manage-scenes/">
        <span>
        

        Manage Builder scenes
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/scene-limitations/">
        <span>
        

        Scene limitations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/import-items/">
        <span>
        

        Import custom items
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/builder-faq/">
        <span>
        

        Builder FAQ
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/builder/export/">
        <span>
        

        Export as code
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Wearables
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/wearables-overview/">
        <span>
        

        Wearables Overview
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/creating-wearables/">
        <span>
        

        Creating Wearables
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/publishing-wearables/">
        <span>
        

        Publishing Wearables
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/curation-committee/">
        <span>
        

        Curation Committee
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/wearables-editor-user-guide/">
        <span>
        

        Wearables Editor User Guide
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        SDK
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Getting started
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/SDK-101/">
        <span>
        

        SDK 101
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/installation-guide/">
        <span>
        

        Installation guide
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/coding-scenes/">
        <span>
        

        Coding scenes
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/preview-scene/">
        <span>
        

        Preview scene
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/dev-workflow/">
        <span>
        

        Development Workflow
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Architecture overview
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/entities-components/">
        <span>
        

        Entities & Components
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/systems/">
        <span>
        

        Systems
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/custom-components/">
        <span>
        

        Custom Components
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/component-groups/">
        <span>
        

        Component groups
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/scene-files/">
        <span>
        

        Files in a scene
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/entity-positioning/">
        <span>
        

        Set Entity positions
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/shape-components/">
        <span>
        

        Shape components
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/materials/">
        <span>
        

        Materials via code
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/sounds/">
        <span>
        

        Sounds
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/move-entities/">
        <span>
        

        Move entities
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/3d-model-animations/">
        <span>
        

        Handle animations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/click-events/">
        <span>
        

        Button events
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/event-listeners/">
        <span>
        

        Event listeners
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/text/">
        <span>
        

        Text shapes
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/onscreen-ui/">
        <span>
        

        2D UI
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/user-data/">
        <span>
        

        Player data
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/move-player/">
        <span>
        

        Move a player
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/avatar-modifiers/">
        <span>
        

        Modifier Areas
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/trigger-emotes/">
        <span>
        

        Trigger emotes
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/raycasting/">
        <span>
        

        Raycasting
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/video-playing/">
        <span>
        

        Play Videos
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/external-links/">
        <span>
        

        Outbound links
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/scene-metadata/">
        <span>
        

        Scene metadata
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/scene-limitations/">
        <span>
        

        Scene limitations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/performance-optimization/">
        <span>
        

        Performance Optimization
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        SDK Libraries
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="active current" href="/development-guide/utils/">
        <span>
        

        Utils library
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#Libraries" target="_blank" rel="noopener noreferer">
        <span>
        

        Other libraries
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Blockchain integration
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/display-a-certified-nft/">
        <span>
        

        Display an NFT
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/scene-blockchain-operations/">
        <span>
        

        Blockchain operations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/second-layer/">
        <span>
        

        Second layer
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Advanced
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/game-objects/">
        <span>
        

        Game objects
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/custom-events/">
        <span>
        

        Custom events
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/remote-scene-considerations/">
        <span>
        

        Multiplayer sync
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/special-types/">
        <span>
        

        Special types
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/network-connections/">
        <span>
        

        Network connections
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/async-functions/">
        <span>
        

        Async functions
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Publishing
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/publishing/">
        <span>
        

        Deploy a scene
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/deploy-to-now/">
        <span>
        

        Share a preview
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/smart-items/">
        <span>
        

        Smart items
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/smart-wearables/">
        <span>
        

        Smart Wearables
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/development-guide/workspaces/">
        <span>
        

        Workspaces
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        3D modeling
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/3d-modeling/3d-models/">
        <span>
        

        3D model essentials
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/3d-modeling/animations/">
        <span>
        

        Animations
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/3d-modeling/colliders/">
        <span>
        

        Colliders
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/3d-modeling/meshes/">
        <span>
        

        Meshes
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/3d-modeling/materials/">
        <span>
        

        Materials
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Tutorials
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#Tutorials" target="_blank" rel="noopener noreferer">
        <span>
        

        Written
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://www.youtube.com/playlist?list=PLAcRraQmr_GPi-8qgv17ewdGl50OHuOhH" target="_blank" rel="noopener noreferer">
        <span>
        

        Video
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Scene examples
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#examples" target="_blank" rel="noopener noreferer">
        <span>
        

        Essentials
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#game-mechanics" target="_blank" rel="noopener noreferer">
        <span>
        

        Game Mechanics
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#physics" target="_blank" rel="noopener noreferer">
        <span>
        

        Physics
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#monetization--blockchain" target="_blank" rel="noopener noreferer">
        <span>
        

        Blockchain Monetization
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="https://github.com/decentraland-scenes/Awesome-Repository#multiplayer--apis" target="_blank" rel="noopener noreferer">
        <span>
        

        Multiplayer & APIs
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        

        Release notes
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/6.0/">
        <span>
        

        SDK Release 6.0.0
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/5.0/">
        <span>
        

        SDK Release 5.0.0
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/sdk-roadmap/">
        <span>
        

        SDK Roadmap
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/4.1.0/">
        <span>
        

        SDK Release 4.1.0
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/4.0.0/">
        <span>
        

        SDK Release 4.0.0
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/releases/sdk/cli/">
        <span>
        

        CLI Release notes
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

</ul>
    
  </li>

  
  

  
  

  
  

  <li class="toggle">
    <div>
      
      
      
      

      

      

      

      

      

      <span class="" >
        <span>
        
          <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.9444 17.9465C18.5494 17.3434 18.5494 16.3662 17.9444 15.763C17.3394 15.1599 16.3595 15.1599 15.7545 15.763C15.1495 16.3662 15.1495 17.3434 15.7545 17.9465C16.3595 18.5497 17.3394 18.5497 17.9444 17.9465Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M15.641 4.191C14.3145 3.2835 12.7113 2.75 10.9815 2.75C10.4838 2.75 9.99888 2.80133 9.52588 2.88567" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M16.8481 3.60071C15.9929 3.60071 15.3008 4.29187 15.3008 5.14437C15.3008 5.99779 15.9947 6.68896 16.849 6.68988C17.7043 6.68988 18.3964 5.99871 18.3964 5.14621C18.3964 4.29279 17.7024 3.60071 16.8481 3.60071Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M4.19375 6.35065C3.28442 7.67431 2.75 9.27481 2.75 11.0009C2.75 11.4977 2.80133 11.9817 2.88567 12.4538" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.60254 5.14706C3.60254 6.00048 4.29462 6.69165 5.14987 6.69073C6.00512 6.69073 6.69812 5.99865 6.69812 5.14523C6.69812 4.29181 6.00604 3.60065 5.15079 3.60156C4.29554 3.60156 3.60254 4.29365 3.60254 5.14706" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M17.8062 15.6502C18.7155 14.3266 19.2499 12.727 19.2499 11.0009C19.2499 10.5041 19.1986 10.0201 19.1142 9.54797" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M18.3973 16.8547C18.3973 16.0013 17.7053 15.3101 16.85 15.311C15.9948 15.311 15.3018 16.0031 15.3018 16.8565C15.3018 17.71 15.9938 18.4011 16.8491 18.4002C17.7043 18.3993 18.3973 17.7072 18.3973 16.8547Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6.35889 17.809C7.6853 18.7165 9.28855 19.25 11.0183 19.25C11.5161 19.25 12.001 19.1987 12.474 19.1144" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.15177 18.3993C6.00702 18.3993 6.6991 17.7082 6.6991 16.8557C6.6991 16.0023 6.00518 15.3111 5.15085 15.3102C4.2956 15.3102 3.60352 16.0013 3.60352 16.8538C3.60352 17.7073 4.29743 18.3993 5.15177 18.3993Z" stroke="#96A1DB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

        

        Blockchain essentials
        </span>
        
          <svg width="6" height="10" viewBox="0 0 6 10" fill="none" class="rotate">
<path d="M1.5 1.5L5 5L1.5 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
</svg>

        
      </span>
    </div>

    
    <ul>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/examples/get-a-wallet/">
        <span>
        

        Get a wallet for beginners
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/decentraland/glossary/">
        <span>
        

        Glossary
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/blockchain-integration/ethereum-essentials/">
        <span>
        

        About the blockchain
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/blockchain-integration/create-a-dapp/">
        <span>
        

        Create a dApp
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/blockchain-integration/transactions-in-polygon/">
        <span>
        

        Transactions in Polygon
        </span>
        
      </a>
    </div>

    
  </li>

  
  

  
  

  
  

  <li>
    <div>
      
      
      
      

      

      

      

      

      

      <a class="" href="/blockchain-integration/estates-marketplace-integrations/">
        <span>
        

        Integrating Decentraland's Estate in your Marketplace
        </span>
        
      </a>
    </div>

    
  </li>

</ul>
    
  </li>

</ul>
</aside>

    <section class="tutorial-content">
      <div class="tutorial-main" data-swiftype-index="true">
        <h1>Utils library</h1>
        <p>The <strong>Decentraland ECS Utils</strong> library includes a number of helpful pre-built tools that include components, methods, and systems. They offer simple solutions to common scenarios that you’re likely to run into while building scenes.</p>

<ul>
  <li><a href="#gradual-movement">Gradual Movement</a>
    <ul>
      <li><a href="#move-an-entity">Move an entity</a></li>
      <li><a href="#follow-a-path">Follow a path</a></li>
      <li><a href="#follow-a-curved-path">Follow a curved path</a></li>
      <li><a href="#rotate-an-entity">Rotate an entity</a></li>
      <li><a href="#sustain-rotation">Sustain rotation</a></li>
      <li><a href="#change-scale">Change scale</a></li>
      <li><a href="#non-linear-changes">Non-linear changes</a></li>
      <li><a href="#callback-on-finish">Callback on finish</a></li>
    </ul>
  </li>
  <li><a href="#toggle">Toggle</a></li>
  <li><a href="#time">Time</a>
    <ul>
      <li><a href="#delay-a-function">Delay a function</a></li>
      <li><a href="#delay-removing-an-entity">Delay removing an entity</a></li>
      <li><a href="#repeat-at-an-interval">Repeat at an Interval</a></li>
    </ul>
  </li>
  <li><a href="#triggers">Triggers</a>
    <ul>
      <li><a href="#trigger-component">Trigger Component</a></li>
      <li><a href="#trigger-layers">Trigger layers</a></li>
    </ul>
  </li>
  <li><a href="#conversions">Conversions</a>
    <ul>
      <li><a href="#clamp">clamp</a></li>
      <li><a href="#map">map</a></li>
      <li><a href="#world-position">world position</a></li>
      <li><a href="#world-rotation">world rotation</a></li>
    </ul>
  </li>
  <li><a href="#send-requests">Send requests</a></li>
  <li><a href="#labels">Labels</a></li>
  <li><a href="#debug-helpers">Debug helpers</a>
    <ul>
      <li><a href="#debug-cube">Debug cube</a></li>
    </ul>
  </li>
  <li><a href="#action-sequence">Action sequence</a>
    <ul>
      <li><a href="#iaction">IAction</a></li>
      <li><a href="#action-sequence-builder">Action Sequence Builder</a></li>
      <li><a href="#action-aequence-system">Action Sequence System</a></li>
      <li><a href="#full-example">Full example</a></li>
    </ul>
  </li>
</ul>

<h2 id="using-the-utils-library">Using the Utils library</h2>

<p>To use any of the helpers provided by the utils library</p>

<ol>
  <li>Install it as an <code class="language-plaintext highlighter-rouge">npm</code> package. Run this command in your scene’s project folder:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install @dcl/ecs-scene-utils -B
</code></pre></div></div>

<ol>
  <li>Run <code class="language-plaintext highlighter-rouge">dcl start</code> or <code class="language-plaintext highlighter-rouge">dcl build</code> so the dependencies are correctly installed.</li>
</ol>

<p>3) Import the library into the scene’s script. Add this line at the start of your <code class="language-plaintext highlighter-rouge">game.ts</code> file, or any other TypeScript files that require it:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>
</code></pre></div></div>

<ol>
  <li>In your TypeScript file, write <code class="language-plaintext highlighter-rouge">utils.</code> and let the suggestions of your IDE show the available helpers.</li>
</ol>

<h2 id="gradual-movement">Gradual Movement</h2>

<h3 id="move-an-entity">Move an entity</h3>

<p>To move an entity over a period of time, from one position to another, use the <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code> component.</p>

<p><code class="language-plaintext highlighter-rouge">MoveTransformComponent</code> has three required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">start</code>: <code class="language-plaintext highlighter-rouge">Vector3</code> for the start position</li>
  <li><code class="language-plaintext highlighter-rouge">end</code>: <code class="language-plaintext highlighter-rouge">Vector3</code> for the end position</li>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: duration (in seconds) of the translation</li>
</ul>

<p>This example moves an entity from one position to another over 2 seconds:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define start and end positions</span>
<span class="kd">let</span> <span class="nx">StartPos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">EndPos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

<span class="c1">// Move entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span><span class="nx">StartPos</span><span class="p">,</span> <span class="nx">EndPos</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="follow-a-path">Follow a path</h3>

<p>To move an entity over several points of a path over a period of time, use the <code class="language-plaintext highlighter-rouge">FollowPathComponent</code> component.</p>

<p><code class="language-plaintext highlighter-rouge">FollowPathComponent</code> has two required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">points</code>: An array of <code class="language-plaintext highlighter-rouge">Vector3</code> positions that form the path.</li>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: The duration (in seconds) of the whole path.</li>
</ul>

<p>This example moves an entity over through four points over 5 seconds:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define the positions of the path</span>
<span class="kd">let</span> <span class="nx">path</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">// Move entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">FollowPathComponent</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="follow-a-curved-path">Follow a curved path</h3>

<p>To move an entity following a curved path over a period of time, use the <code class="language-plaintext highlighter-rouge">FollowCurvedPathComponent</code> component.</p>

<p>The curved path is composed of multiple straight line segments put together. You only need to supply a series of fixed path points and a smooth curve is drawn to pass through all of these.</p>

<p><code class="language-plaintext highlighter-rouge">FollowCurvedPathComponent</code> has three required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">points</code>: An array of <code class="language-plaintext highlighter-rouge">Vector3</code> positions that the curve must pass through.</li>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: The duration (in seconds) of the whole path.</li>
  <li><code class="language-plaintext highlighter-rouge">numberOfSegments</code>: How many straight-line segments to use to construct the curve.</li>
</ul>

<blockquote>
  <p>Tip: Each segment takes at least one frame to complete. Avoid using more than 30 segments per second in the duration of the path, or the entity will move significantly slower while it stops for each segment.</p>
</blockquote>

<p>This example moves an entity over through a curve that’s subdivided into 40 segments, over a period of 5 seconds. The curve passes through four key points.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define the positions of the path</span>
<span class="kd">let</span> <span class="nx">path</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="nx">path</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">// Move entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">FollowCurvedPathComponent</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">FollowCurvedPathComponent</code> also lets you set:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">turnToFaceNext</code>: If true, the entity will rotate on each segment of the curve to always face forward.</li>
  <li><code class="language-plaintext highlighter-rouge">closedCircle</code>: If true, traces a circle that starts back at the beginning, keeping the curvature rounded in the seams too</li>
</ul>

<h3 id="rotate-an-entity">Rotate an entity</h3>

<p>To rotate an entity over a period of time, from one direction to another, use the <code class="language-plaintext highlighter-rouge">rotateTransformComponent</code> component, which works very similarly to the <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code> component.</p>

<p><code class="language-plaintext highlighter-rouge">rotateTransformComponent</code> has three required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">start</code>: <code class="language-plaintext highlighter-rouge">Quaternion</code> for the start rotation</li>
  <li><code class="language-plaintext highlighter-rouge">end</code>: <code class="language-plaintext highlighter-rouge">Quaternion</code> for the end rotation</li>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: duration (in seconds) of the rotation</li>
</ul>

<p>This example rotates an entity from one rotation to another over 2 seconds:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define start and end directions</span>
<span class="kd">let</span> <span class="nx">StartRot</span> <span class="o">=</span> <span class="nx">Quaternion</span><span class="p">.</span><span class="nx">Euler</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">EndRot</span> <span class="o">=</span> <span class="nx">Quaternion</span><span class="p">.</span><span class="nx">Euler</span><span class="p">(</span><span class="mi">270</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1">// Rotate entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">RotateTransformComponent</span><span class="p">(</span><span class="nx">StartRot</span><span class="p">,</span> <span class="nx">EndRot</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="sustain-rotation">Sustain rotation</h3>

<p>To rotates an entity continuously, use <code class="language-plaintext highlighter-rouge">KeepRotatingComponent</code>. The entity will keep rotating forever until it’s explicitly stopped or the component is removed.</p>

<p><code class="language-plaintext highlighter-rouge">KeepRotatingComponent</code> has one required argument:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">rotationVelocity</code>: A quaternion describing the desired rotation to perform each second second. For example <code class="language-plaintext highlighter-rouge">Quaternion.Euler(0, 45, 0)</code> rotates the entity on the Y axis at a speed of 45 degrees per second, meaning that it makes a full turn every 8 seconds.</li>
</ul>

<p>The component also contains the following method:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">stop()</code>: stops rotation and removes the component from any entities its added to.</li>
</ul>

<p>In the following example, a cube rotates continuously until clicked:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}))</span>

<span class="c1">// Rotate entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">KeepRotatingComponent</span><span class="p">(</span><span class="nx">Quaternion</span><span class="p">.</span><span class="nx">Euler</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>

<span class="c1">// Listen for click</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnClick</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">KeepRotatingComponent</span><span class="p">).</span><span class="nx">stop</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="change-scale">Change scale</h3>

<p>To adjust the scale of an entity over a period of time, from one size to another, use the <code class="language-plaintext highlighter-rouge">ScaleTransformComponent</code> component, which works very similarly to the <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code> component.</p>

<p><code class="language-plaintext highlighter-rouge">ScaleTransformComponent</code> has three required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">start</code>: <code class="language-plaintext highlighter-rouge">Vector3</code> for the start scale</li>
  <li><code class="language-plaintext highlighter-rouge">end</code>: <code class="language-plaintext highlighter-rouge">Vector3</code> for the end scale</li>
  <li><code class="language-plaintext highlighter-rouge">duration</code>: duration (in seconds) of the scaling</li>
</ul>

<p>This example scales an entity from one size to another over 2 seconds:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define start and end positions</span>
<span class="kd">let</span> <span class="nx">StartSize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">EndSize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mf">0.75</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">)</span>

<span class="c1">// Move entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ScaleTransformComponent</span><span class="p">(</span><span class="nx">StartSize</span><span class="p">,</span> <span class="nx">EndSize</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="non-linear-changes">Non-linear changes</h3>

<p>All of the translation components, the <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code>, <code class="language-plaintext highlighter-rouge">rotateTransformComponent</code>, <code class="language-plaintext highlighter-rouge">ScaleTransformComponent</code>, and <code class="language-plaintext highlighter-rouge">FollowPathComponent</code> have an optional argument to set the rate of change. By default, the movement, rotation, or scaling occurs at a linear rate, but this can be set to other options.</p>

<p>The following values are accepted:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Interpolation.LINEAR</code></li>
  <li><code class="language-plaintext highlighter-rouge">Interpolation.EASEINQUAD</code></li>
  <li><code class="language-plaintext highlighter-rouge">Interpolation.EASEOUTQUAD</code></li>
  <li><code class="language-plaintext highlighter-rouge">Interpolation.EASEQUAD</code></li>
</ul>

<p>The following example moves a box following an ease-in rate:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
    <span class="nx">StartPos</span><span class="p">,</span>
    <span class="nx">EndPos</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="kc">null</span><span class="p">,</span>
    <span class="nx">utils</span><span class="p">.</span><span class="nx">InterpolationType</span><span class="p">.</span><span class="nx">EASEINQUAD</span>
  <span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="callback-on-finish">Callback on finish</h3>

<p>All of the translation components, the <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code>, <code class="language-plaintext highlighter-rouge">rotateTransformComponent</code>, <code class="language-plaintext highlighter-rouge">ScaleTransformComponent</code>, <code class="language-plaintext highlighter-rouge">FollowPathComponent</code>, and <code class="language-plaintext highlighter-rouge">FollowCurvedPathComponent</code> have an optional argument that executes a function when the translation is complete.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">onFinishCallback</code>: function to execute when movement is done.</li>
</ul>

<p>The following example logs a message when the box finishes its movement. The example uses <code class="language-plaintext highlighter-rouge">MoveTransformComponent</code>, but the same applies to <code class="language-plaintext highlighter-rouge">rotateTransformComponent</code> and <code class="language-plaintext highlighter-rouge">ScaleTransformComponent</code>.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span><span class="nx">StartPos</span><span class="p">,</span> <span class="nx">EndPos</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">finished moving box</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">FollowPathComponent</code> has a two optional arguments that execute functions when a section of the path is complete and when the whole path is complete.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">onFinishCallback</code>: function to execute when movement is complete.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">onPointReachedCallback</code>: function to execute when each section of the path is done.</p>
  </li>
</ul>

<p>The following example logs a messages when the box finishes each segment of the path, and another when the entire path is done.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">FollowPathComponent</span><span class="p">(</span>
    <span class="nx">path</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">finished moving box</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">finished a segment of the path</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="toggle">Toggle</h2>

<p>Use the <code class="language-plaintext highlighter-rouge">ToggleComponent</code> to switch an entity between two possible states, running a same function on every transition.</p>

<p>The <code class="language-plaintext highlighter-rouge">ToggleComponent</code> has the following arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">startingState</code>: Starting state of the toggle (ON or OFF)</li>
  <li><code class="language-plaintext highlighter-rouge">onValueChangedCallback</code>: Function to call every time the toggle state changed.</li>
</ul>

<p>It exposes three methods:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">toggle()</code>: switches the state of the component between ON and OFF</li>
  <li><code class="language-plaintext highlighter-rouge">isOn()</code>: reads the current state of the component, without altering it. It returns a boolean, where <code class="language-plaintext highlighter-rouge">true</code> means ON.</li>
  <li><code class="language-plaintext highlighter-rouge">setCallback()</code>: allows you to change the function to be executed by <code class="language-plaintext highlighter-rouge">onValueChangedCallback</code>, for the next time it’s toggled.</li>
</ul>

<p>The following example switches the color of a box between two colors each time it’s clicked.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define two different materials</span>
<span class="kd">let</span> <span class="nx">greenMaterial</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Material</span><span class="p">()</span>
<span class="nx">greenMaterial</span><span class="p">.</span><span class="nx">albedoColor</span> <span class="o">=</span> <span class="nx">Color3</span><span class="p">.</span><span class="nx">Green</span><span class="p">()</span>
<span class="kd">let</span> <span class="nx">redMaterial</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Material</span><span class="p">()</span>
<span class="nx">redMaterial</span><span class="p">.</span><span class="nx">albedoColor</span> <span class="o">=</span> <span class="nx">Color3</span><span class="p">.</span><span class="nx">Red</span><span class="p">()</span>

<span class="c1">// Add a Toggle component</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleComponent</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleState</span><span class="p">.</span><span class="nx">Off</span><span class="p">,</span> <span class="nx">value</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">==</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleState</span><span class="p">.</span><span class="nx">On</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//set color to green</span>
      <span class="nx">box</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span><span class="nx">greenMaterial</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">//set color to red</span>
      <span class="nx">box</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span><span class="nx">redMaterial</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">//listen for click on the box and toggle it's state</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnClick</span><span class="p">(</span><span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleComponent</span><span class="p">).</span><span class="nx">toggle</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="combine-toggle-with-translate">Combine Toggle with Translate</h3>

<p>This example combines a toggle component with a move component to switch an entity between two positions every time it’s clicked.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// Create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// Give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">//Define two positions for toggling</span>
<span class="kd">let</span> <span class="nx">Pos1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">Pos2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1">//toggle for wine bottle</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleComponent</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleState</span><span class="p">.</span><span class="nx">Off</span><span class="p">,</span> <span class="nx">value</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">==</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleState</span><span class="p">.</span><span class="nx">On</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">box</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span><span class="nx">Pos1</span><span class="p">,</span> <span class="nx">Pos2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
      <span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">box</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span><span class="nx">Pos2</span><span class="p">,</span> <span class="nx">Pos1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">//listen for click on the box and toggle it's state</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnClick</span><span class="p">(</span><span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">ToggleComponent</span><span class="p">).</span><span class="nx">toggle</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// Add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="time">Time</h2>

<p>These tools are all related to the passage of time in the scene.</p>

<h3 id="delay-a-function">Delay a function</h3>

<p>Add a <code class="language-plaintext highlighter-rouge">Delay</code> component to an entity to execute a function only after an <code class="language-plaintext highlighter-rouge">n</code> amount of milliseconds.</p>

<p>This example creates an entity that only becomes visible in the scene after 100000 milliseconds (100 seconds) have passed.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// create entity</span>
<span class="kd">const</span> <span class="nx">easterEgg</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// give entity a shape and set invisible</span>
<span class="kd">const</span> <span class="nx">easterEggShape</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BoxShape</span><span class="p">()</span>
<span class="nx">easterEggShape</span><span class="p">.</span><span class="nx">visible</span> <span class="o">=</span> <span class="kc">false</span>
<span class="nx">easterEgg</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="nx">easterEggShape</span><span class="p">)</span>

<span class="c1">// add a delayed function</span>
<span class="nx">easterEgg</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">Delay</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">easterEgg</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">BoxShape</span><span class="p">).</span><span class="nx">visible</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// add entity to scene</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">easterEgg</span><span class="p">)</span>
</code></pre></div></div>

<p>To delay the execution of a task that isn’t directly tied to any entity in the scene, create a dummy entity that only holds a <code class="language-plaintext highlighter-rouge">Delay</code> component.</p>

<h3 id="delay-removing-an-entity">Delay removing an entity</h3>

<p>Add an <code class="language-plaintext highlighter-rouge">ExpireIn</code> component to an entity to remove it from the scene after an <code class="language-plaintext highlighter-rouge">n</code> amount of milliseconds.</p>

<p>This example creates an entity that is removed from the scene 500 milliseconds after it’s clicked.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// give entity a shape</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>

<span class="c1">// add a function to run when clicked</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnClick</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ExpireIn</span><span class="p">(</span><span class="mi">500</span><span class="p">))</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// add entity to scene</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="repeat-at-an-interval">Repeat at an Interval</h3>

<p>Add an <code class="language-plaintext highlighter-rouge">Interval</code> component to an entity to make it execute a same function every <code class="language-plaintext highlighter-rouge">n</code> milliseconds.</p>

<p>This example creates an entity that changes its scale to a random size every 500 milliseconds.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">// create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">// give entity a shape and transform</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">())</span>

<span class="c1">// add a repeated function</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">Interval</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">randomSize</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span>
    <span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">scale</span><span class="p">.</span><span class="nx">setAll</span><span class="p">(</span><span class="nx">randomSize</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">)</span>

<span class="c1">// add entity to scene</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<p>To repeat the execution of a task that isn’t directly tied to any entity in the scene, create a dummy entity that only holds an <code class="language-plaintext highlighter-rouge">Interval</code> component.</p>

<h2 id="triggers">Triggers</h2>

<h3 id="trigger-component">Trigger Component</h3>

<p>The trigger component can execute whatever you want whenever the player’s position or the position of a specific entity or type of entity overlaps with an area.</p>

<p>The <code class="language-plaintext highlighter-rouge">TriggerComponent</code> has the following arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">shape</code>: Shape of the triggering collider area, either a cube or a sphere (<code class="language-plaintext highlighter-rouge">TriggerBoxShape</code> or <code class="language-plaintext highlighter-rouge">TriggerSphereShape</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">data</code>: An object of type <code class="language-plaintext highlighter-rouge">TriggerData</code> containing several optional parameters to configure the behavior of the trigger area.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">TriggerData</code> type may contain the following parameters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">onCameraEnter</code>: Callback function for when the player enters the trigger area</li>
  <li><code class="language-plaintext highlighter-rouge">onCameraExit</code>: Callback function for when the player leaves the trigger area</li>
  <li><code class="language-plaintext highlighter-rouge">layer</code>: Layer of the Trigger, useful to discriminate between trigger events. You can set multiple layers by using a <code class="language-plaintext highlighter-rouge">|</code> symbol.</li>
  <li><code class="language-plaintext highlighter-rouge">triggeredByLayer</code>: Against which layers to check collisions</li>
  <li><code class="language-plaintext highlighter-rouge">onTriggerEnter</code>: Callback when an entity of a valid layer enters the trigger area</li>
  <li><code class="language-plaintext highlighter-rouge">onTriggerExit</code>: Callback function for when an entity of a valid layer leaves the trigger area</li>
  <li><code class="language-plaintext highlighter-rouge">enableDebug</code>: When true, makes the trigger area visible for debug purposes. Only visible when running a preview locally, not in production.</li>
</ul>

<p>The following example creates a trigger that changes its position randomly when triggered by the player.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">//create entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>

<span class="c1">//create shape for entity and disable its collision</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">BoxShape</span><span class="p">).</span><span class="nx">withCollisions</span> <span class="o">=</span> <span class="kc">false</span>

<span class="c1">//set transform component with initial position</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}))</span>

<span class="c1">// create trigger area object, setting size and relative position</span>
<span class="kd">let</span> <span class="nx">triggerBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerBoxShape</span><span class="p">()</span>

<span class="c1">//create trigger for entity</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerComponent</span><span class="p">(</span>
    <span class="nx">triggerBox</span><span class="p">,</span> <span class="c1">//shape</span>
    <span class="p">{</span>
      <span class="na">onCameraEnter</span> <span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	  <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">triggered!</span><span class="dl">'</span><span class="p">)</span>
	  <span class="nx">box</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span>
		<span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span>
		<span class="mi">0</span><span class="p">,</span>
		<span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span>
	        <span class="p">)</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="c1">//add entity to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>Note: The trigger shape can be positioned or stretched, but it can’t be rotated on any axis. This is a design decision taken for performance reasons. To cover a slanted area, we recommend adding multiple triggers if applicable.</p>
</blockquote>

<p>Each trigger area has a shape for its area to check for collisions, which is completely independent of the visible shape of the entity. The shape of the area can either be determined by a <code class="language-plaintext highlighter-rouge">TriggerBoxShape</code> or a <code class="language-plaintext highlighter-rouge">TriggerSphereShape</code>. When instancing these, can set the scale and an offset position. By default, the trigger shape starts in the same position as the entity that has the <code class="language-plaintext highlighter-rouge">TriggerComponent</code>.</p>

<p>You can check where exactly the trigger area is and its scale by setting the <code class="language-plaintext highlighter-rouge">enableDebug</code> flag to true. You will then see this shape in the scene when running a preview. This debug shape is only visible in the context of a preview, not once the scene is deployed.</p>

<h3 id="dissable-a-collision-component">Dissable a collision component</h3>

<p><code class="language-plaintext highlighter-rouge">TriggerComponent</code> components have an <code class="language-plaintext highlighter-rouge">enabled</code> property, which is set to <code class="language-plaintext highlighter-rouge">true</code> by default when creating it. You can use this property to disable the behavior of the component without removing it.</p>

<pre><code class="language-TypeScript">box.getComponent(utils.TriggerComponent).enabled = false
</code></pre>

<h3 id="set-a-custom-shape-for-player">Set a custom shape for player</h3>

<p>You can optionally configure a custom shape and size for the player’s trigger area, according to your needs:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerSystem</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">setCameraTriggerShape</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerBoxShape</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
    <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.91</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<p>Changing this configuration affects the behavior of all <code class="language-plaintext highlighter-rouge">onCameraEnter</code> and <code class="language-plaintext highlighter-rouge">onCameraExit</code> functions of all TriggerComponents in the scene.</p>

<h3 id="trigger-layers">Trigger layers</h3>

<p>You can define different layers (bitwise) for triggers, and set which other layers can trigger it.</p>

<p>The following example creates a scene that has:</p>

<ul>
  <li>food (cones)</li>
  <li>mice (spheres)</li>
  <li>cats (boxes)</li>
</ul>

<p>Food is triggered (or eaten) by both cats or mice. Also, mice are eaten by cats, so a mouse’s trigger area is triggered by only cats.</p>

<p>Cats and mice always move towards the food. When food or mice are eaten, they respawn in a random location.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">//define layers</span>
<span class="kd">const</span> <span class="nx">foodLayer</span> <span class="o">=</span> <span class="mi">1</span>
<span class="kd">const</span> <span class="nx">mouseLayer</span> <span class="o">=</span> <span class="mi">2</span>
<span class="kd">const</span> <span class="nx">catLayer</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1">//define a reusable collision shape object</span>
<span class="kd">let</span> <span class="nx">triggerBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerBoxShape</span><span class="p">(</span><span class="nx">Vector3</span><span class="p">.</span><span class="nx">One</span><span class="p">(),</span> <span class="nx">Vector3</span><span class="p">.</span><span class="nx">Zero</span><span class="p">())</span>

<span class="c1">//create food</span>
<span class="kd">const</span> <span class="nx">food</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">food</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">ConeShape</span><span class="p">())</span>
<span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">ConeShape</span><span class="p">).</span><span class="nx">withCollisions</span> <span class="o">=</span> <span class="kc">false</span>
<span class="nx">food</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span>
    <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">)</span>
<span class="nx">food</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerComponent</span><span class="p">(</span>
  <span class="nx">triggerBox</span><span class="p">,</span>
  <span class="p">{</span>
	<span class="na">layer</span><span class="p">:</span> <span class="nx">foodLayer</span>
	<span class="na">triggeredByLayer</span><span class="p">:</span> <span class="nx">mouseLayer</span> <span class="o">|</span> <span class="nx">catLayer</span>
	<span class="na">onTriggerEnter</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	  <span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span>
	    <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span>
	    <span class="mi">0</span><span class="p">,</span>
	    <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span>
	  <span class="p">)</span>
	  <span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
	    <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
		<span class="nx">mouse</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
		<span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
		<span class="mi">4</span>
	    <span class="p">)</span>
	  <span class="p">)</span>
	  <span class="nx">cat</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
	    <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
		<span class="nx">cat</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
		<span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
		<span class="mi">4</span>
	    <span class="p">)</span>
	 <span class="p">)</span>
       <span class="p">}</span>
  <span class="p">}</span>
<span class="p">))</span>

<span class="c1">//create mouse</span>
<span class="kd">const</span> <span class="nx">mouse</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">SphereShape</span><span class="p">())</span>
<span class="nx">mouse</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">SphereShape</span><span class="p">).</span><span class="nx">withCollisions</span> <span class="o">=</span> <span class="kc">false</span>
<span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span>
    <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">),</span>
    <span class="na">scale</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">)</span>
<span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerComponent</span><span class="p">(</span>
  <span class="nx">triggerBox</span><span class="p">,</span>
  <span class="p">{</span>
	<span class="na">layer</span><span class="p">:</span> <span class="nx">mouseLayer</span>
	<span class="na">triggeredByLayer</span><span class="p">:</span> <span class="nx">catLayer</span>
	<span class="na">onTriggerEnter</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	  <span class="nx">mouse</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span>
	    <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span>
	    <span class="mi">0</span><span class="p">,</span>
	    <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span>
	  <span class="p">)</span>
	  <span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
	    <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
	      <span class="nx">mouse</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
	      <span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
	      <span class="mi">4</span>
	    <span class="p">)</span>
          <span class="p">)</span>
        <span class="p">}</span>
  <span class="p">}</span>
<span class="p">))</span>

<span class="c1">//create cat</span>
<span class="kd">const</span> <span class="nx">cat</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">BoxShape</span><span class="p">).</span><span class="nx">withCollisions</span> <span class="o">=</span> <span class="kc">false</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span>
    <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">14</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">)</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">TriggerComponen</span><span class="p">(</span>
	<span class="nx">triggerBox</span><span class="p">,</span>
	<span class="p">{</span>
		<span class="na">layer</span><span class="p">:</span> <span class="nx">catLayer</span>
	<span class="p">}</span>
<span class="p">))</span>

<span class="c1">//set initial movement for mouse and cat</span>
<span class="nx">mouse</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
    <span class="nx">mouse</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
    <span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
    <span class="mi">4</span>
  <span class="p">)</span>
<span class="p">)</span>
<span class="nx">cat</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
    <span class="nx">cat</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
    <span class="nx">food</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">).</span><span class="nx">position</span><span class="p">,</span>
    <span class="mi">4</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="c1">//add entities to engine</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">food</span><span class="p">)</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">mouse</span><span class="p">)</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">cat</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="conversions">Conversions</h2>

<p>This library includes a number of helpful functions for common value conversions.</p>

<h4 id="clamp">Clamp</h4>

<p>Use the <code class="language-plaintext highlighter-rouge">clamp()</code> function to easily clamp possible values between a maximum and a minimum.</p>

<p>The <code class="language-plaintext highlighter-rouge">clamp()</code> function takes the following arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">value</code>: Input number to convert</li>
  <li><code class="language-plaintext highlighter-rouge">min</code>: Minimum output value.</li>
  <li><code class="language-plaintext highlighter-rouge">max</code>: Maximum output value.</li>
</ul>

<p>The following example limits an incoming value between 5 and 15. If the incoming value is less than 5, it will output 5. If the incoming value is more than 15, it will output 15.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="mi">200</span>
<span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">clamp</span><span class="p">(</span><span class="nx">input</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="map">Map</h4>

<p>Use the <code class="language-plaintext highlighter-rouge">map()</code> function to map a value from one range of values to its equivalent, scaled in proportion to another range of values, using maximum and minimum.</p>

<p>The <code class="language-plaintext highlighter-rouge">map()</code> function takes the following arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">value</code>: Input number to convert</li>
  <li><code class="language-plaintext highlighter-rouge">min1</code>: Minimum value in the range of the input.</li>
  <li><code class="language-plaintext highlighter-rouge">max1</code>: Maximum value in the range of the input.</li>
  <li><code class="language-plaintext highlighter-rouge">min2</code>: Minimum value in the range of the output.</li>
  <li><code class="language-plaintext highlighter-rouge">max2</code>: Maximum value in the range of the output.</li>
</ul>

<p>The following example maps the value <em>5</em> from a scale of 0 to 10 to a scale of 300 to 400. The resulting value is 350, as it keeps the same proportion relative to the new maximum and minimum values.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="mi">5</span>
<span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">input</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
<span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="world-position">World position</h4>

<p>If an entity is parented to another entity, or to the player, then its Transform position will be relative to its parent. To find what its global position is, taking into account any parents, use <code class="language-plaintext highlighter-rouge">getEntityWorldPosition()</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">getEntityWorldPosition()</code> function takes a single argument:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">entity</code>: The entity from which to get the global position</li>
</ul>

<p>The function returns a <code class="language-plaintext highlighter-rouge">Vector3</code> object, with the resulting position of adding the given entity and all its chain of parents.</p>

<p>The following example sets a cube as a child of the player, and logs its true position when clicked.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">cube</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}))</span><span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">cube</span><span class="p">)</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">setParent</span><span class="p">(</span><span class="nx">Attachable</span><span class="p">.</span><span class="nx">FIRST_PERSON_CAMERA</span><span class="p">)</span>

<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnPointerDown</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">log</span><span class="p">(</span><span class="nx">getEntityWorldRotation</span><span class="p">(</span><span class="nx">myCube</span><span class="p">))</span>
  <span class="p">}))</span>
</code></pre></div></div>

<h4 id="world-rotation">World rotation</h4>

<p>If an entity is parented to another entity, or to the player, then its Transform rotation will be relative to its parent. To find what its global rotation is, taking into account any parents, use <code class="language-plaintext highlighter-rouge">getEntityWorldRotation()</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">getEntityWorldRotation()</code> function takes a single argument:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">entity</code>: The entity from which to get the global rotation</li>
</ul>

<p>The function returns a <code class="language-plaintext highlighter-rouge">Quaternion</code> object, with the resulting rotation of multiplying the given entity to all its chain of parents.</p>

<p>The following example sets a cube as a child of the player, and logs its true rotation when clicked.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">cube</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}))</span><span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">cube</span><span class="p">)</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">setParent</span><span class="p">(</span><span class="nx">Attachable</span><span class="p">.</span><span class="nx">FIRST_PERSON_CAMERA</span><span class="p">)</span>

<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span>
  <span class="k">new</span> <span class="nx">OnPointerDown</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">log</span><span class="p">(</span><span class="nx">getEntityWorldRotation</span><span class="p">(</span><span class="nx">myCube</span><span class="p">))</span>
  <span class="p">}))</span>
</code></pre></div></div>

<h2 id="send-requests">Send requests</h2>

<p>Use the <code class="language-plaintext highlighter-rouge">sendRequest()</code> function to easily send HTTP requests to APIs.</p>

<p>The <code class="language-plaintext highlighter-rouge">sendRequest()</code> function has a single required argument:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">url</code>: The URL to send the request</li>
</ul>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">request</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">sendRequest</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">https://events.decentraland.org/api/events/?limit=5</span><span class="dl">'</span>
  <span class="p">)</span>

  <span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>NOTE: The sendRequest() function is asynchronous, since it must wait for the external server to respond back before it can return a response. If you need your code to access the data on the request’s response, you must use the sendRequest() within an <code class="language-plaintext highlighter-rouge">async</code> block of code, and add an <code class="language-plaintext highlighter-rouge">await</code> to the function.</p>
</blockquote>

<p>The <code class="language-plaintext highlighter-rouge">sendRequest()</code> function also lets you use the following arguments, for sending more advanced requests:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">method</code>: The HTTP method to use. <code class="language-plaintext highlighter-rouge">GET</code> is the default, other common options are <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, and <code class="language-plaintext highlighter-rouge">DELETE</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">headers</code>: The HTTP headers of the request, as a JSON object.</li>
  <li><code class="language-plaintext highlighter-rouge">body</code>: The body of the request, as a JSON object.</li>
</ul>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">request</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">sendRequest</span><span class="p">(</span>
  	<span class="dl">'</span><span class="s1">https://jsonplaceholder.typicode.com/posts</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">content</span><span class="p">:</span> <span class="dl">'</span><span class="s1">My test JSON</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="labels">Labels</h2>

<p>Add a text label floating over an entity using <code class="language-plaintext highlighter-rouge">addLabel()</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">addLabel()</code> function has just two required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">text</code>: The string of text to display</li>
  <li><code class="language-plaintext highlighter-rouge">parent</code>: The entity to set the label on</li>
</ul>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">cube</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="p">}))</span>
<span class="nx">cube</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">cube</span><span class="p">)</span>

<span class="nx">utils</span><span class="p">.</span><span class="nx">addLabel</span><span class="p">(</span><span class="dl">'</span><span class="s1">Random Cube</span><span class="dl">'</span><span class="p">,</span> <span class="nx">cube</span><span class="p">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">addLabel()</code> function also lets you set the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">billboard</code>: If true, label turns to always face player. True by default.</li>
  <li><code class="language-plaintext highlighter-rouge">color</code>: Text color. Black by default.</li>
  <li><code class="language-plaintext highlighter-rouge">size</code>: Text font size, 3 by default.</li>
  <li><code class="language-plaintext highlighter-rouge">textOffset</code>: Offset from parent entity’s position. By default 1.5 meters above the parent.</li>
</ul>

<blockquote>
  <p>Tip: The <code class="language-plaintext highlighter-rouge">addLabel()</code> function returns the created entity used for the text. You can then tweak this entity in any way you choose.</p>
</blockquote>

<h2 id="debug-helpers">Debug helpers</h2>

<h4 id="debug-cube">Debug cube</h4>

<p>Render a simple clickable cube to use as a trigger when debugging a scene with <code class="language-plaintext highlighter-rouge">addTestCube()</code>.</p>

<blockquote>
  <p>NOTE: The test cube is only shown in preview, unless configured to appear also in production.</p>
</blockquote>

<p>The <code class="language-plaintext highlighter-rouge">addTestCube()</code> function has just two required arguments:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">pos</code>: The position, rotation and/or scale of the cube, expressed as a TransformConstructorArgs object, as gets passed when creating a <code class="language-plaintext highlighter-rouge">Transform</code> component.</li>
  <li><code class="language-plaintext highlighter-rouge">triggeredFunction</code>: A function that gets called every time the cube is clicked.</li>
</ul>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">utils</span><span class="p">.</span><span class="nx">addTestCube</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cube clicked</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">addTestCube()</code> function also lets you set the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">label</code>: An optional label to display floating over the cube</li>
  <li><code class="language-plaintext highlighter-rouge">color</code>: A color for the cube’s material.</li>
  <li><code class="language-plaintext highlighter-rouge">sphere</code>: If true, it renders as a Sphere instead of a cube.</li>
  <li><code class="language-plaintext highlighter-rouge">noCollider</code>: If true, the cube won’t have a collider and will let players walk through it.</li>
  <li><code class="language-plaintext highlighter-rouge">keepInProduction</code>: If true, it will be visible for players in-world once the scene is deployed. Otherwise, the cube is only present when previewing he scene locally.</li>
</ul>

<blockquote>
  <p>Tip: The <code class="language-plaintext highlighter-rouge">addTestCube()</code> function returns the created entity for the cube. You can then tweak this entity in any way you choose. <code class="language-plaintext highlighter-rouge">addTestCube()</code> is an async function (because the function first checks if you’re in preview or in production). If you need the function to return the cube (instead of a promise of a cube) use it inside an async block of code with an await on the <code class="language-plaintext highlighter-rouge">addTestCube()</code> function.</p>
</blockquote>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">addMyCube</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myCube</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">addTestCube</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cube clicked</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="action-sequence">Action sequence</h2>

<p>Use an action sequence to play a series of actions one after another.</p>

<h3 id="iaction">IAction</h3>

<p>The <code class="language-plaintext highlighter-rouge">IAction</code> interface defines the actions that can be added into a sequence. It includes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">hasFinished</code>: Boolean for the state of the action, wether it has finished its execution or not.</li>
  <li><code class="language-plaintext highlighter-rouge">onStart()</code>: First method that is called upon the execution of the action.</li>
  <li><code class="language-plaintext highlighter-rouge">update()</code>: Called on every frame on the action’s internal update.</li>
  <li><code class="language-plaintext highlighter-rouge">onFinish()</code>: Called when the action has finished executing.</li>
</ul>

<h3 id="action-sequence-builder">Action Sequence Builder</h3>

<p>This object creates action sequences, using simple building blocks.</p>

<p>The <code class="language-plaintext highlighter-rouge">SequenceBuilder</code> exposes the following methods:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">then()</code>: Enqueue an action so that it’s executed when the previous one finishes.</li>
  <li><code class="language-plaintext highlighter-rouge">if()</code>: Use a condition to branch the sequence</li>
  <li><code class="language-plaintext highlighter-rouge">else()</code>: Used with if() to create an alternative branch</li>
  <li><code class="language-plaintext highlighter-rouge">endIf()</code>: Ends the definition of the conditional block</li>
  <li><code class="language-plaintext highlighter-rouge">while()</code>: Keep running the actions defined in a block until a condition is no longer met.</li>
  <li><code class="language-plaintext highlighter-rouge">breakWhile()</code>: Ends the definition of the while block</li>
</ul>

<h3 id="action-sequence-system">Action Sequence System</h3>

<p>The action sequence system takes care of running the sequence of actions. The <code class="language-plaintext highlighter-rouge">ActionsSequenceSystem</code> exposes the following methods:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">startSequence()</code>: Starts a sequence of actions</li>
  <li><code class="language-plaintext highlighter-rouge">setOnFinishCallback()</code>: Sets a callback for when the whole sequence is finished</li>
  <li><code class="language-plaintext highlighter-rouge">isRunning()</code>: Returns a boolean that determines if the sequence is running</li>
  <li><code class="language-plaintext highlighter-rouge">stop()</code>: Stops a running the sequence</li>
  <li><code class="language-plaintext highlighter-rouge">resume()</code>: Resumes a stopped sequence</li>
  <li><code class="language-plaintext highlighter-rouge">reset()</code>: Resets a sequence so that it starts over</li>
</ul>

<h3 id="full-example">Full example</h3>

<p>The following example creates a box that changes its scale until clicked. Then it resets its scale and moves.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">utils</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@dcl/ecs-scene-utils</span><span class="dl">'</span>

<span class="c1">//set clicked flag</span>
<span class="kd">let</span> <span class="nx">boxClicked</span> <span class="o">=</span> <span class="kc">false</span>

<span class="c1">//create box entity</span>
<span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Entity</span><span class="p">()</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">BoxShape</span><span class="p">())</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">Transform</span><span class="p">({</span> <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span> <span class="p">}))</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="k">new</span> <span class="nx">OnClick</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">boxClicked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)))</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addEntity</span><span class="p">(</span><span class="nx">box</span><span class="p">)</span>

<span class="c1">//Use IAction to define action for scaling</span>
<span class="kd">class</span> <span class="nx">ScaleAction</span> <span class="k">implements</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ActionsSequenceSystem</span><span class="p">.</span><span class="nx">IAction</span> <span class="p">{</span>
  <span class="nl">hasFinished</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="nx">entity</span><span class="p">:</span> <span class="nx">Entity</span>
  <span class="nx">scale</span><span class="p">:</span> <span class="nx">Vector3</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">entity</span><span class="p">:</span> <span class="nx">Entity</span><span class="p">,</span> <span class="nx">scale</span><span class="p">:</span> <span class="nx">Vector3</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">entity</span> <span class="o">=</span> <span class="nx">entity</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">scale</span> <span class="o">=</span> <span class="nx">scale</span>
  <span class="p">}</span>

  <span class="c1">//Method when action starts</span>
  <span class="nx">onStart</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">transform</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">hasFinished</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
      <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ScaleTransformComponent</span><span class="p">(</span>
        <span class="nx">transform</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span>
        <span class="mf">1.5</span><span class="p">,</span>
        <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">hasFinished</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">utils</span><span class="p">.</span><span class="nx">InterpolationType</span><span class="p">.</span><span class="nx">EASEINQUAD</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">}</span>
  <span class="c1">//Method to run on every frame</span>
  <span class="nx">update</span><span class="p">(</span><span class="nx">dt</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{}</span>
  <span class="c1">//Method to run at the end</span>
  <span class="nx">onFinish</span><span class="p">():</span> <span class="k">void</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="c1">//Use IAction to define action for movement</span>
<span class="kd">class</span> <span class="nx">MoveAction</span> <span class="k">implements</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ActionsSequenceSystem</span><span class="p">.</span><span class="nx">IAction</span> <span class="p">{</span>
  <span class="nl">hasFinished</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="nx">entity</span><span class="p">:</span> <span class="nx">Entity</span>
  <span class="nx">position</span><span class="p">:</span> <span class="nx">Vector3</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">entity</span><span class="p">:</span> <span class="nx">Entity</span><span class="p">,</span> <span class="nx">position</span><span class="p">:</span> <span class="nx">Vector3</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">entity</span> <span class="o">=</span> <span class="nx">entity</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="nx">position</span>
  <span class="p">}</span>

  <span class="c1">//Method when action starts</span>
  <span class="nx">onStart</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">transform</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">getComponent</span><span class="p">(</span><span class="nx">Transform</span><span class="p">)</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">.</span><span class="nx">addComponentOrReplace</span><span class="p">(</span>
      <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">MoveTransformComponent</span><span class="p">(</span>
        <span class="nx">transform</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span>
        <span class="mi">4</span><span class="p">,</span>
        <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">hasFinished</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">}</span>
  <span class="c1">//Method to run on every frame</span>
  <span class="nx">update</span><span class="p">(</span><span class="nx">dt</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{}</span>
  <span class="c1">//Method to run at the end</span>
  <span class="nx">onFinish</span><span class="p">():</span> <span class="k">void</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="c1">//Use sequence builder to create a sequence</span>
<span class="kd">const</span> <span class="nx">sequence</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ActionsSequenceSystem</span><span class="p">.</span><span class="nx">SequenceBuilder</span><span class="p">()</span>
  <span class="p">.</span><span class="k">while</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">boxClicked</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="k">new</span> <span class="nx">ScaleAction</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="k">new</span> <span class="nx">ScaleAction</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)))</span>
  <span class="p">.</span><span class="nx">endWhile</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="k">new</span> <span class="nx">ScaleAction</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="k">new</span> <span class="nx">MoveAction</span><span class="p">(</span><span class="nx">box</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>

<span class="c1">//Create a sequence system, and add it to the engine to run the sequence</span>
<span class="nx">engine</span><span class="p">.</span><span class="nx">addSystem</span><span class="p">(</span><span class="k">new</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">ActionsSequenceSystem</span><span class="p">(</span><span class="nx">sequence</span><span class="p">))</span>
</code></pre></div></div>

      </div>

      

      
    </section>
  </section>
</div><style>

</style>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>
  <script>
    $('.highlighter-rouge code').each(function(i) {
      const currentId = 'codeblock' + (i + 1)
      $(this).attr('id', currentId)
      const clipButton = (
        '<div class="copy-code">' +
          '<button class="codeblock-btn" data-clipboard-target="#' + currentId + '">' +
            '<span class="status-copy"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><g fill="none" fill-rule="evenodd"><path d="M-3-2v20h20V-2z"/><path class="main" fill="#F04" d="M3.25 3h-.5a2 2 0 0 0-2 2v8.5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V13h.5a2 2 0 0 0 2-2V2.5a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2V3zM4.5 3v-.25a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-.25V5a2 2 0 0 0-2-2H4.5zM2 5.25a1 1 0 0 1 1-1h5.5a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8z"/></g></svg> Copy Code</span>' +
            '<span class="status-copied"><svg width="12" height="9" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M-4-6h20v20H-4z"/><path class="main" d="M.17 5.037A.565.565 0 0 1 0 4.661c0-.107.057-.268.17-.376l.796-.752a.571.571 0 0 1 .795 0l2.258 2.35a.286.286 0 0 0 .398 0L10.239.162a.571.571 0 0 1 .795 0l.796.752a.5.5 0 0 1 0 .753L4.587 8.839A.53.53 0 0 1 4.189 9a.53.53 0 0 1-.397-.161L.17 5.037z" fill="#F04" fill-rule="nonzero"/></g></svg> Copied</span>' +
          '</button>' +
        '</div>'
      )
      $(this).parent().after(clipButton)
    })

    const clipboard = new ClipboardJS('.codeblock-btn')
    clipboard.on('success', function(e) { e.clearSelection() })

    $('.codeblock-btn').on('click', function () {
      const $this = $(this)
      $this.addClass('copied')
      window.setTimeout(function() {
        $this.removeClass('copied')
      }, 3000)
    })
  </script>

  </main>
  <footer>
	<div class="footer-wrapper">
		<div class="copyright">
			© 2022 Unicial
		</div>
		<div class="social-copyright-wrapper">
		  <a
            target="_blank"
            href="mailto:tsimafei@zilionixx.com"
            rel="noreferrer"
          >
            <img src="/images/links/znx.png"></img>
          </a>
          <a target="_blank" href="https://t.me/zilionixx" rel="noreferrer">
            <img src="/images/links/skype.png"></img>
          </a>
          <a
            target="_blank"
            rel="noreferrer"
            href="https://www.facebook.com/groups/4354141514692375/"
          >
		  	<img src="/images/links/facebook.png"></img>
          </a>
          <a
            target="_blank"
            rel="noreferrer"
            href="https://twitter.com/zilionixx"
          >
		  	<img src="/images/links/twitter.png"></img>
          </a>
          <a
            target="_blank"
            rel="noreferrer"
            href="https://www.linkedin.com/company/zilionixx "
          >
		  	<img src="/images/links/linkedin.png"></img>
          </a>
          <a
            target="_blank"
            rel="noreferrer"
            href="https://discord.gg/JEPcm4YD "
          >
		 	 <img src="/images/links/discord.png"></img>
          </a>
		</div>
	</div>
</footer>

</body>

</html>
